<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa da Nossa Hist√≥ria - Yasmin</title>
    
    <!-- 1. Carrega o Tailwind CSS para o estilo -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. Configura√ß√µes para carregar m√≥dulos do React diretamente do navegador -->
    <script type="importmap">
    {
        "imports": {
            "react": "https://esm.sh/react@18.2.0",
            "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
            "framer-motion": "https://esm.sh/framer-motion@10.12.16",
            "lucide-react": "https://esm.sh/lucide-react@0.263.1"
        }
    }
    </script>
    
    <!-- 3. Carrega o Babel para traduzir o React -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* Ajustes finos de fonte e scrollbar */
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.5); border-radius: 4px; }
    </style>
</head>
<body class="bg-gradient-to-b from-sky-400 via-pink-300 to-rose-300 min-h-screen">

    <div id="root"></div>

    <!-- 4. Seu C√≥digo React -->
    <script type="text/babel" data-type="module">
        import React, { useState, useRef, useEffect } from 'react';
        import { createRoot } from 'react-dom/client';
        import { motion, AnimatePresence } from 'framer-motion';
        import { X, ChevronRight, Heart, Sparkles, Cloud } from 'lucide-react';

        // --- DADOS DA HIST√ìRIA ---
        const levels = [
        {
            id: 1,
            icon: 'üåü',
            title: 'O Come√ßo de Tudo',
            subtitle: 'In√≠cio',
            text: 'Nossa hist√≥ria come√ßou de uma forma especial...',
            memory: 'Quando te conheci, algo mudou. N√£o foi s√≥ mais uma pessoa que entrou na minha vida, foi VOC√ä. E voc√™ trouxe uma luz diferente, um brilho que fez tudo parecer mais bonito. Foi ali que tudo come√ßou. ‚ú®',
            color: 'from-amber-400 to-orange-500'
        },
        {
            id: 2,
            icon: 'üí≠',
            title: 'Nossa Conex√£o',
            subtitle: 'Conex√£o',
            text: 'Quando percebi que √©ramos diferentes...',
            memory: 'Nossas conversas flu√≠am naturalmente. Podia falar sobre qualquer coisa com voc√™ e sempre parecia que o tempo parava. Cada palavra, cada risada, cada sil√™ncio confort√°vel... tudo construindo algo √∫nico entre n√≥s. üí´',
            color: 'from-purple-400 to-indigo-500'
        },
        {
            id: 3,
            icon: 'üíå',
            title: 'Mini Cartinha',
            subtitle: 'Mini Cartinha',
            text: 'Uma mensagem especial do meu cora√ß√£o para o seu...',
            memory: `Yasmin Meu amor,
        Eu sei que √†s vezes o mundo pesa demais no seu peito, mesmo quando voc√™ n√£o diz nada. Eu sinto seu sil√™ncio, e ele nunca passa despercebido pra mim. Quero que saiba que eu estou aqui ‚Äî n√£o para te cobrar sorrisos, mas para te dar a minha m√£o, mesmo quando tudo parece escuro.

        Voc√™ n√£o precisa ser forte o tempo todo. Pode descansar em mim quando quiser. Eu te amo nos seus dias bons, mas tamb√©m ‚Äî e talvez at√© mais ‚Äî nos seus dias nublados.

        Se o seu cora√ß√£o estiver cansado, deixa o meu te abra√ßar. Eu caminho contigo, no seu ritmo, sem pressa, sem cobran√ßa.
        Voc√™ √© importante pra mim. Voc√™ √© luz, mesmo quando n√£o consegue enxergar isso. E eu fico aqui, segurando voc√™ com todo carinho que existe em mim üíï`,
            color: 'from-rose-300 to-pink-500'
        },
        {
            id: 4,
            icon: 'üòä',
            title: 'Suas Risadas',
            subtitle: 'Risadas',
            text: 'O som que ilumina meus dias...',
            memory: 'Sua risada √© m√°gica! Toda vez que voc√™ ri, √© como se o mundo inteiro ficasse mais leve. Eu faria qualquer coisa s√≥ pra ver voc√™ sorrindo daquele jeito sincero e lindo que s√≥ voc√™ tem. Voc√™ transforma dias ruins em momentos especiais. üåü',
            color: 'from-yellow-400 to-amber-500'
        },
        {
            id: 5,
            icon: 'üíï',
            title: 'Sentimentos Crescendo',
            subtitle: 'Sentimentos',
            text: 'Quando percebi o quanto voc√™ √© importante...',
            memory: 'Foi acontecendo aos poucos. De repente voc√™ n√£o era s√≥ algu√©m especial, voc√™ era ESSENCIAL. Seus dias viraram meus dias, suas alegrias viraram minhas alegrias. Voc√™ se tornou parte de quem eu sou. üíñ',
            color: 'from-pink-400 to-rose-500'
        },
        {
            id: 6,
            icon: 'üåà',
            title: 'Nossos Momentos',
            subtitle: 'Momentos',
            text: 'Cada segundo ao seu lado √© √∫nico...',
            memory: 'Desde as coisas simples at√© os momentos mais especiais, tudo com voc√™ tem um significado diferente. Cada mensagem, cada encontro, cada conversa... s√£o mem√≥rias que guardo com carinho no cora√ß√£o. Voc√™ faz os dias serem mais coloridos! üé®',
            color: 'from-emerald-400 to-teal-500'
        },
        {
            id: 7,
            icon: 'üíñ',
            title: 'Voc√™, Yasmin',
            subtitle: 'Voc√™',
            text: 'A pessoa mais especial...',
            memory: 'Yasmin, voc√™ √© incr√≠vel! Seu jeito meigo, sua do√ßura, seu amor pela Hello Kitty, sua forma √∫nica de ver o mundo... tudo em voc√™ me encanta. Sempre que eu ver algo relacionado √† Hello Kitty, vou me lembrar de voc√™. Porque ela √© fofa e especial, assim como voc√™ √©. Voc√™ n√£o √© s√≥ importante, voc√™ √© essencial. Voc√™ n√£o √© s√≥ amada, voc√™ √â o amor que ilumina minha vida. Obrigado por existir e por me deixar fazer parte da sua hist√≥ria. üå∏üíï‚ú®',
            color: 'from-rose-400 to-pink-600'
        },
        {
            id: 8,
            icon: 'üôè',
            title: 'Nossa F√© e Futuro',
            subtitle: 'Nossa F√©',
            text: 'O que Deus tem preparado para n√≥s...',
            memory: 'Yasmin, eu espero todos os dias que nossa hist√≥ria possa estar sendo guiada por Deus. Que Ele ilumine nossas conversas, nossos caminhos e nossos cora√ß√µes. Oro para que cada dia possamos estar em conex√£o, n√£o s√≥ um com o outro, mas com o prop√≥sito que Ele tem para nossas vidas. Quero que saiba que te amarei em todas as suas fases, nas boas e nas ruins, nos dias de sol e nos dias de tempestade. Obrigado pela sua confian√ßa em mim. Isso √© um presente que eu cuido com todo carinho. Se for da vontade de Deus, vamos construir algo lindo juntos. üôèüíï‚ú®',
            color: 'from-violet-400 to-purple-600'
        }
        ];

        // --- COMPONENTES ---

        const FloatingCloud = ({ delay, duration, top, size }) => (
        <motion.div
            className="absolute pointer-events-none opacity-40"
            style={{ top: `${top}%`, fontSize: size }}
            initial={{ x: -100 }}
            animate={{ x: '100vw' }}
            transition={{
            duration,
            delay,
            repeat: Infinity,
            ease: 'linear'
            }}
        >
            ‚òÅÔ∏è
        </motion.div>
        );

        const FloatingHearts = () => (
        <div className="fixed inset-0 pointer-events-none overflow-hidden z-0">
            {[...Array(6)].map((_, i) => (
            <motion.div
                key={i}
                className="absolute text-pink-300/30"
                style={{
                left: `${Math.random() * 100}%`,
                fontSize: `${20 + Math.random() * 20}px`
                }}
                initial={{ y: '100vh', opacity: 0 }}
                animate={{ y: '-100vh', opacity: [0, 1, 1, 0] }}
                transition={{
                duration: 8 + Math.random() * 4,
                delay: i * 2,
                repeat: Infinity,
                ease: 'linear'
                }}
            >
                ‚ô•
            </motion.div>
            ))}
        </div>
        );

        const ProgressBar = ({ progress }) => (
        <div className="w-full max-w-xs mx-auto">
            <div className="relative h-3 bg-white/30 rounded-full overflow-hidden backdrop-blur-sm border border-white/40">
            <motion.div
                className="absolute inset-y-0 left-0 bg-gradient-to-r from-yellow-400 via-pink-500 to-rose-500 rounded-full"
                initial={{ width: 0 }}
                animate={{ width: `${progress}%` }}
                transition={{ duration: 0.5, ease: 'easeOut' }}
            />
            <div className="absolute inset-0 flex items-center justify-center">
                <span className="text-[10px] font-bold text-white drop-shadow-lg">
                {Math.round(progress)}%
                </span>
            </div>
            </div>
        </div>
        );

        const LevelCard = ({ level, isLocked, isCompleted, onClick, index }) => {
        const isLeft = index % 2 === 0;
        
        return (
            <motion.div
            className={`relative flex items-center gap-4 ${isLeft ? 'flex-row' : 'flex-row-reverse'}`}
            initial={{ opacity: 0, x: isLeft ? -50 : 50 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ delay: index * 0.1, duration: 0.5 }}
            >
            {/* Connector Line */}
            <div className={`hidden sm:block flex-1 h-0.5 ${isCompleted ? 'bg-gradient-to-r from-pink-400 to-rose-500' : 'bg-white/30'}`} />
            
            {/* Level Circle */}
            <motion.button
                onClick={onClick}
                disabled={isLocked}
                className={`relative group flex-shrink-0 ${isLocked ? 'cursor-not-allowed' : 'cursor-pointer'}`}
                whileHover={!isLocked ? { scale: 1.08 } : {}}
                whileTap={!isLocked ? { scale: 0.95 } : {}}
            >
                {/* Glow Effect */}
                {!isLocked && (
                <div className={`absolute inset-0 rounded-full bg-gradient-to-br ${level.color} opacity-50 blur-xl group-hover:opacity-70 transition-opacity`} />
                )}
                
                {/* Main Circle */}
                <div className={`relative w-20 h-20 sm:w-24 sm:h-24 rounded-full flex flex-col items-center justify-center transition-all duration-300 ${
                isLocked 
                    ? 'bg-gray-300/80 border-4 border-gray-400/50' 
                    : `bg-gradient-to-br ${level.color} border-4 border-white shadow-xl`
                }`}>
                {/* Level Number Badge */}
                <div className={`absolute -top-2 -right-2 w-7 h-7 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-bold shadow-lg ${
                    isLocked ? 'bg-gray-500 text-white' : 'bg-white text-pink-600'
                }`}>
                    {level.id}
                </div>
                
                {/* Icon */}
                <motion.span 
                    className={`text-3xl sm:text-4xl ${isLocked ? 'grayscale opacity-50' : ''}`}
                    animate={!isLocked ? { y: [0, -5, 0] } : {}}
                    transition={{ duration: 2, repeat: Infinity, ease: 'easeInOut' }}
                >
                    {isLocked ? 'üîí' : level.icon}
                </motion.span>
                
                {/* Completed Check */}
                {isCompleted && (
                    <motion.div
                    initial={{ scale: 0 }}
                    animate={{ scale: 1 }}
                    className="absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center border-2 border-white"
                    >
                    <span className="text-white text-xs">‚úì</span>
                    </motion.div>
                )}
                </div>
                
                {/* Title below circle on mobile */}
                <p className={`mt-2 text-center text-xs sm:text-sm font-medium max-w-[80px] sm:max-w-[100px] ${
                isLocked ? 'text-gray-400' : 'text-white'
                } drop-shadow-lg`}>
                {level.subtitle}
                </p>
            </motion.button>
            
            {/* Connector Line */}
            <div className={`hidden sm:block flex-1 h-0.5 ${isCompleted ? 'bg-gradient-to-r from-rose-500 to-pink-400' : 'bg-white/30'}`} />
            </motion.div>
        );
        };

        const Modal = ({ level, onClose, onNext, isLast }) => (
        <motion.div
            className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm"
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            exit={{ opacity: 0 }}
            onClick={onClose}
        >
            <motion.div
            className="relative w-full max-w-lg max-h-[85vh] overflow-y-auto bg-white rounded-3xl shadow-2xl"
            initial={{ scale: 0.8, y: 50 }}
            animate={{ scale: 1, y: 0 }}
            exit={{ scale: 0.8, y: 50 }}
            onClick={e => e.stopPropagation()}
            >
            {/* Header Gradient */}
            <div className={`sticky top-0 z-10 p-6 pb-8 bg-gradient-to-br ${level.color} rounded-t-3xl`}>
                <button
                onClick={onClose}
                className="absolute top-4 right-4 w-10 h-10 flex items-center justify-center rounded-full bg-white/20 hover:bg-white/30 transition-colors"
                >
                <X className="w-5 h-5 text-white" />
                </button>
                
                <motion.div
                className="text-6xl sm:text-7xl text-center mb-4"
                animate={{ scale: [1, 1.1, 1], rotate: [0, 5, -5, 0] }}
                transition={{ duration: 2, repeat: Infinity }}
                >
                {level.icon}
                </motion.div>
                
                <h2 className="text-2xl sm:text-3xl font-bold text-white text-center drop-shadow-lg">
                {level.title}
                </h2>
            </div>
            
            {/* Content */}
            <div className="p-6 space-y-6">
                <p className="text-gray-600 text-center text-lg leading-relaxed">
                {level.text}
                </p>
                
                {/* Memory Card */}
                <div className="relative p-5 bg-gradient-to-br from-pink-50 to-rose-50 rounded-2xl border-l-4 border-pink-400">
                <div className="absolute -top-3 -left-3 w-8 h-8 bg-pink-400 rounded-full flex items-center justify-center">
                    <Heart className="w-4 h-4 text-white fill-white" />
                </div>
                <p className="text-gray-700 leading-relaxed italic text-sm sm:text-base whitespace-pre-line">
                    {level.memory}
                </p>
                </div>
                
                {/* Next Button */}
                <motion.button
                onClick={onNext}
                className={`w-full py-4 rounded-2xl font-semibold text-white text-lg shadow-xl flex items-center justify-center gap-3 bg-gradient-to-r ${level.color}`}
                whileHover={{ scale: 1.02 }}
                whileTap={{ scale: 0.98 }}
                >
                {isLast ? (
                    <>
                    <span>üíù Fim da Jornada - Am√©m!</span>
                    </>
                ) : (
                    <>
                    <span>Continuar a Jornada</span>
                    <ChevronRight className="w-5 h-5" />
                    </>
                )}
                </motion.button>
            </div>
            </motion.div>
        </motion.div>
        );

        const TreeWithFruits = ({ completedCount }) => (
        <div className="fixed bottom-0 right-2 sm:right-6 z-10 pointer-events-none">
            <div className="relative">
            {/* Tree */}
            <div className="text-[120px] sm:text-[180px] leading-none">üå≥</div>
            
            {/* Fruits */}
            <AnimatePresence>
                {[...Array(completedCount)].map((_, i) => {
                const positions = [
                    { top: '15%', left: '20%' },
                    { top: '25%', left: '60%' },
                    { top: '10%', left: '40%' },
                    { top: '30%', left: '15%' },
                    { top: '20%', left: '70%' },
                    { top: '35%', left: '45%' },
                    { top: '15%', left: '55%' },
                    { top: '28%', left: '35%' }
                ];
                const pos = positions[i] || { top: '20%', left: '50%' };
                return (
                    <motion.div
                    key={i}
                    className="absolute text-2xl sm:text-3xl"
                    style={{ top: pos.top, left: pos.left }}
                    initial={{ scale: 0, rotate: -180 }}
                    animate={{ scale: 1, rotate: 0 }}
                    transition={{ type: 'spring', stiffness: 200 }}
                    >
                    üçé
                    </motion.div>
                );
                })}
            </AnimatePresence>
            </div>
        </div>
        );

        function OurStoryMap() {
        const [unlockedLevels, setUnlockedLevels] = useState([1]);
        const [completedLevels, setCompletedLevels] = useState([]);
        const [selectedLevel, setSelectedLevel] = useState(null);
        const levelRefs = useRef({});
        
        const progress = (completedLevels.length / levels.length) * 100;
        
        const handleOpenLevel = (level) => {
            if (!unlockedLevels.includes(level.id)) return;
            
            if (!completedLevels.includes(level.id)) {
            setCompletedLevels(prev => [...prev, level.id]);
            }
            setSelectedLevel(level);
        };
        
        const handleNext = () => {
            const currentId = selectedLevel.id;
            setSelectedLevel(null);
            
            if (currentId < 8) {
            const nextId = currentId + 1;
            if (!unlockedLevels.includes(nextId)) {
                setUnlockedLevels(prev => [...prev, nextId]);
            }
            
            setTimeout(() => {
                levelRefs.current[nextId]?.scrollIntoView({ 
                behavior: 'smooth', 
                block: 'center' 
                });
            }, 300);
            } else {
            setTimeout(() => {
                alert('Que Deus aben√ßoe nossa hist√≥ria, Yasmin! üíïüôè‚ú®');
            }, 300);
            }
        };
        
        return (
            <div className="min-h-screen overflow-x-hidden">
            {/* Floating Elements */}
            <FloatingHearts />
            <div className="fixed inset-0 pointer-events-none overflow-hidden z-0">
                <FloatingCloud delay={0} duration={25} top={10} size="40px" />
                <FloatingCloud delay={5} duration={30} top={25} size="50px" />
                <FloatingCloud delay={10} duration={20} top={40} size="35px" />
                <FloatingCloud delay={15} duration={35} top={15} size="45px" />
            </div>
            
            {/* Tree */}
            <TreeWithFruits completedCount={completedLevels.length} />
            
            {/* Main Content */}
            <div className="relative z-10 px-4 py-8 sm:py-12 max-w-2xl mx-auto">
                {/* Header */}
                <motion.header
                className="text-center mb-8 sm:mb-12"
                initial={{ opacity: 0, y: -30 }}
                animate={{ opacity: 1, y: 0 }}
                >
                <div className="relative inline-block mb-4">
                    {/* Animated GIFs on larger screens */}
                    <img 
                    src="https://media.tenor.com/RAmoFI__LV0AAAAi/luv-u.gif" 
                    alt="" 
                    className="hidden sm:block absolute -left-24 top-0 w-16 h-16"
                    />
                    <img 
                    src="https://media.tenor.com/RAmoFI__LV0AAAAi/luv-u.gif" 
                    alt="" 
                    className="hidden sm:block absolute -right-24 top-0 w-16 h-16"
                    />
                    
                    <h1 className="text-3xl sm:text-5xl font-bold text-white drop-shadow-lg flex items-center justify-center gap-2 flex-wrap">
                    <span>üó∫Ô∏è</span>
                    <span>Mapa da Nossa Hist√≥ria</span>
                    <span>üíï</span>
                    </h1>
                </div>
                
                <p className="text-white/90 text-base sm:text-xl mb-6 drop-shadow">
                    Uma jornada atrav√©s dos nossos momentos especiais
                </p>
                
                <ProgressBar progress={progress} />
                </motion.header>
                
                {/* Map Path */}
                <div className="relative pb-20">
                {/* Vertical Path Line */}
                <div className="absolute left-1/2 top-0 bottom-0 w-1 bg-white/30 -translate-x-1/2 rounded-full" />
                <motion.div 
                    className="absolute left-1/2 top-0 w-1 bg-gradient-to-b from-yellow-400 via-pink-500 to-rose-500 -translate-x-1/2 rounded-full"
                    style={{ height: `${progress}%` }}
                    initial={{ height: 0 }}
                    animate={{ height: `${progress}%` }}
                    transition={{ duration: 0.5 }}
                />
                
                {/* Levels */}
                <div className="relative space-y-8 sm:space-y-12">
                    {levels.map((level, index) => (
                    <div 
                        key={level.id} 
                        ref={el => levelRefs.current[level.id] = el}
                        className="relative"
                    >
                        <LevelCard
                        level={level}
                        isLocked={!unlockedLevels.includes(level.id)}
                        isCompleted={completedLevels.includes(level.id)}
                        onClick={() => handleOpenLevel(level)}
                        index={index}
                        />
                    </div>
                    ))}
                </div>
                </div>
            </div>
            
            {/* Modal */}
            <AnimatePresence>
                {selectedLevel && (
                <Modal
                    level={selectedLevel}
                    onClose={() => setSelectedLevel(null)}
                    onNext={handleNext}
                    isLast={selectedLevel.id === 8}
                />
                )}
            </AnimatePresence>
            </div>
        );
        }

        // Renderiza o aplicativo
        const root = createRoot(document.getElementById('root'));
        root.render(<OurStoryMap />);
    </script>
</body>
</html>
